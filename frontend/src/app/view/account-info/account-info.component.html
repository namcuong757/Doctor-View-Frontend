<div class="container mt-4" style="min-height: 700px;">
  <div class="row">
    <div class="col-sm-3 pe-4">
      <div class="card border" style="height:550px;">
        <div class="card-body text-start">
          <div class="card-text">
            <div class="row g-3">
              <div class="col-sm-12 border-bottom">
                <a class="col-form-label h3" href="myAccount/info">Info</a>
              </div>
              <div class="col-sm-12 border-bottom">
                <a class="col-form-label h3" href="myAccount/phone">Phone Number</a>
              </div>
              <div class="col-sm-12 border-bottom">
                <a class="col-form-label h3" href="myAccount/email">E-mail ID</a>
              </div>
              <div class="col-sm-12 border-bottom">
                <a class="col-form-label h3" href="myAccount/password">Reset Password</a>
              </div>

              <div class="col-sm-12 border-bottom" *ngIf="user.id != -1 && user.type != 'PERSON' && user.type != 'ADMIN'">
                <a class="col-form-label h3" href="myAccount/workExperience">Work Experience</a>
              </div>
              <div class="col-sm-12">
              </div>
              <div class="col-sm-12 border-bottom" *ngIf="user.id != -1 && user.type != 'PERSON' && user.type != 'ADMIN'">
                <a class="col-form-label h3" href="myAccount/appointments">Appointments</a>
              </div>

              <div class="col-sm-12">
              </div>
              <div class="col-sm-12 border-bottom" *ngIf="user.id != -1 && user.type == 'ADMIN'">
                <a class="col-form-label h3 text-danger" href="admin/myAccount/userList">User List</a>
              </div>
              <div class="col-sm-12 border-bottom" *ngIf="user.id != -1 && user.type == 'ADMIN'">
                <a class="col-form-label h3 text-danger" href="admin/myAccount/DoctorList">Doctor List</a>
              </div>
              <div class="col-sm-12 border-bottom" *ngIf="user.id != -1 && user.type == 'ADMIN'">
                <a class="col-form-label h3 text-danger" href="admin/myAccount/appointments">Order List</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-sm-9 p-0">
      <div class="card border" style="width:850px; min-height:550px;">

        <!-- My Account Info -->
        <div *ngIf="type=='info' && user.id != -1">
          <h3 class="card-title text-center p-4">{{user.type|uppercase}} ID: {{user.id}}</h3>
          <div class="row g-3 border-top">
            <div class="col-sm-5">
              <div class="row pt-2 pb-2">
                <div class="col-sm-6 text-end">
                  <label class="col-form-label">User Name:</label>
                </div>
                <div class="col-sm-6">
                  <label class="col-form-label"><h5>{{user.name}}</h5></label>
                </div>
              </div>
              <div class="row pt-2 pb-2">
                <div class="col-sm-6 text-end">
                  <label class="col-form-label">Account Type:</label>
                </div>
                <div class="col-sm-6">

                  <label class="col-form-label"><h5>{{user.type}}</h5></label>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="row pt-2 pb-2">
                <div class="col-sm-4 text-end">
                  <label class="col-form-label">Phone:</label>
                </div>
                <div class="col-sm-8">
                  <label class="col-form-label"><h5>{{user.phone}}</h5></label>
                </div>
              </div>
              <div class="row pt-2 pb-2">
                <div class="col-sm-4 text-end">
                  <label class="col-form-label">E-mail:</label>
                </div>
                <div class="col-sm-8">
                  <label class="col-form-label"><h5>{{user.emailId}}</h5></label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Update Phone Number -->
        <div *ngIf="type=='phone' && user.id != -1">
          <h3 class="card-title text-center pt-3">Update Your Phone Number</h3>
          <hr class="text-secondary">
          <div class="row g-3">
            <form id="updatePhoneForm">
              <input type="hidden" name="user_id" id="user_id" value="{{user.id}}">
              <div class="row pt-4 pb-4">
                <div class="col-sm-12">
                  <div class="row pb-4">
                    <div class="col-sm-4 text-end">
                      <label class="col-form-label">Your Current Phone:</label>
                    </div>
                    <div class="col-sm-6">
                      <input type="text" class="form-control" name="oldPhone" id="oldPhone" value="{{user.phone}}" readonly>
                    </div>
                  </div>
                  <div class="row pb-4">
                    <div class="col-sm-4 text-end">
                      <label class="col-form-label">New Phone:</label>
                    </div>
                    <div class="col-sm-6">
                      <input type="text" class="form-control" name="phone" id="phone" required>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <div class="row pt-4">
              <div class="col-sm-11 text-end">
                <button class="btn btn-primary mb-3 btn-lg py-1 px-5 ms-4" (click)="updatePhoneNumber()">update</button>
              </div>
              <div class="col-sm-12" id="errorMessage">
              </div>
            </div>
          </div>
        </div>

        <!-- Update Email Id -->
        <div *ngIf="type=='email' && user.id != -1">
          <h3 class="card-title text-center pt-3">Update Your E-mail</h3>
          <hr class="text-secondary">
          <div class="row g-3">
            <form id="updateEmailForm">
              <input type="hidden" name="user_id" id="user_id" value="{{user.id}}">
              <div class="row pt-4 pb-4">
                <div class="col-sm-12">
                  <div class="row pb-4">
                    <div class="col-sm-4 text-end">
                      <label class="col-form-label">Your Current Email:</label>
                    </div>
                    <div class="col-sm-6">
                      <input type="email" class="form-control" name="oldEmail" id="oldEmail" value="{{user.emailId}}" readonly>
                    </div>
                  </div>
                  <div class="row pb-4">
                    <div class="col-sm-4 text-end">
                      <label class="col-form-label">New Email:</label>
                    </div>
                    <div class="col-sm-6">
                      <input type="email" class="form-control" name="email" id="email" required>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <div class="row pt-4">
              <div class="col-sm-11 text-end">
                <button class="btn btn-primary mb-3 btn-lg py-1 px-5 ms-4" (click)="updateEmail()">update</button>
              </div>
              <div class="col-sm-12" id="errorMessage">
              </div>
            </div>
          </div>
        </div>

        <!-- Reset Password -->
        <div *ngIf="type=='password' && user.id != -1">
          <h3 class="card-title text-center pt-3">Reset Password</h3>
          <hr class="text-secondary">
          <div class="row g-3">
            <form id="updatePasswordForm">
              <input type="hidden" name="user_id" id="user_id" value="{{user.id}}">
              <input type="hidden" name="column" value="Password">
              <div class="row pt-4 pb-4">
                <div class="col-sm-12">
                  <div class="row pb-4">
                    <div class="col-sm-4 text-end">
                      <label class="col-form-label">Current Password:</label>
                    </div>
                    <div class="col-sm-6">
                      <input type="password" class="form-control" name="oldPassword" id="oldPassword" required>
                    </div>
                  </div>
                  <div class="row pb-4">
                    <div class="col-sm-4 text-end">
                      <label class="col-form-label">New Password:</label>
                    </div>
                    <div class="col-sm-6">
                      <input type="password" class="form-control" name="password" id="password" required>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4 text-end">
                      <label class="col-form-label">Confirm Password:</label>
                    </div>
                    <div class="col-sm-6">
                      <input type="password" class="form-control" name="confirm" id="confirm" required>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <div class="row pt-4">
              <div class="col-sm-11 text-end">
                <button class="btn btn-primary mb-3 btn-lg py-1 px-5 ms-4" (click)="resetPassword()">Reset</button>
              </div>
              <div class="col-sm-12" id="errorMessage">
              </div>
            </div>
          </div>
        </div>

        <!-- Update Work Experience -->
        <div *ngIf="type=='workExperience' && user.id != -1" >
          <h3 class="card-title text-center pt-3">My Work Experience</h3>
          <hr class="text-secondary">
          <div class="col-sm-12 ms-2">
            <h6>Experience: <button class="btn btn-outline-danger py-0" id="showAddExperienceButton" (click)="showAddExperienceFrom()">+</button></h6>
          </div>
          <div class="col-sm-12 ms-2" id = "addExperienceFrom" style = "display:none">
            <div class="row pb-2">
              <div class="col-sm-1 ms-1">
                <button class="btn btn-outline-danger py-0" (click)="addExperience()">+</button>
              </div>
              <div class="col-sm-10 ms-1">
                <div class="row pb-2">
                  <div class="col-sm-1">
                    From
                  </div>
                  <div class="col-sm-2">
                    <input class="form-control" type="date" name = 'startDate' id="startDate">
                  </div>
                  <div class="col-sm-1">
                    To
                  </div>
                  <div class="col-sm-2">
                    <input class="form-control" type="date" name = 'endDate' id="endDate">
                  </div>
                </div>
                <div class="row pb-2 justify-content-center">
                  <div class="col-sm-11 ms-2 ">
                    <textarea class="form-control" name = 'description' id="description"></textarea>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-sm-12 ms-2">
            <div class="row pb-2" *ngFor = "let workExperience of doctorWorkExperiencesList">
              <div class="col-sm-1 ms-2">
                <button class="btn btn-outline-danger py-0" (click)="deleteExperience(workExperience)">-</button>
              </div>
              <div class="col-sm-10 ms-2">
                <div class="row pb-2">
                  {{"From: " + workExperience.startDate + " To: " + workExperience.endDate}}
                </div>
                <div class="row pb-2 justify-content-center">
                  <div class="col-sm-11 ms-2 ">
                    <textarea class="form-control" >{{workExperience.description}}</textarea>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <hr class="text-secondary">

          <div class="row pb-2">
            <div class="col-sm-2 ms-2">
              <h6>Resume:</h6>
            </div>
          </div>
          <div class="row pb-2 justify-content-center">
            <div class="col-sm-10 ms-2 ">
              <textarea class="form-control" style="min-height:200px;" name = "introduce" id="introduce">{{doctorIntroduce}}</textarea>
            </div>
          </div>

          <div class="row g-3">
            <div class="row pt-4">
              <div class="col-sm-11 text-end">
                <button class="btn btn-primary mb-3 btn-lg py-1 px-5 ms-4" (click)="updateWorkExperience()">Update</button>
              </div>
              <div class="col-sm-12" id="errorMessage">
              </div>
            </div>
          </div>
        </div>

        <!-- Show Appointment  -->


        <div *ngIf="type=='userList' && user.id != -1 && user.type == 'ADMIN'">
          <h3 class="card-title text-center p-4">User List</h3>
          <div class="row g-3">
            <div class="card-body" style="min-height: 400px;">
              <div class="table-responsive">
                <table class="table table-sm table-hover table-success">
                  <thead class="thead-dark">
                  <tr>
                    <th scope="col-sm-1"><h5>#</h5></th>
                    <th scope="col-sm-3"><h5>UserName</h5></th>
                    <th scope="col-sm-4"><h5>PhoneNumber</h5></th>
                    <th scope="col-sm-4"><h5>E-mail</h5></th>
                    <th scope="col-sm-4"><h5>Operation</h5></th>
                  </tr>
                  </thead>
                  <!--
                  <tbody *ngFor = "let user of userList">
                  <tr>
                    <td><h5>{{user.id}}</h5></td>
                    <td><h5>{{user.first_name + ' ' + user.last_name }}</h5></td>
                    <td><h5>{{user.phone}}</h5></td>
                    <td><h5>{{user.email}}</h5></td>
                    <td><h5><button class="btn btn-success" (click)="showUserDetail(user)">Detail</button></h5></td>
                  </tr>
                  </tbody>-->
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

