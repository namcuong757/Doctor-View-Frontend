{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/service/calendar.service\";\nexport class MessageComponent {\n  constructor(router, calendarService) {\n    this.router = router;\n    this.calendarService = calendarService;\n    this.message = 'title';\n    this.error = '';\n    this.targetPage = 'Home';\n    this.num = 5;\n  }\n  ngOnInit() {\n    if (this.router.snapshot.params['message'] == 'logInSuccessful') {\n      // @ts-ignore\n      let account = JSON.parse(window.sessionStorage.getItem('healthCenterUser'));\n      this.calendarService.setStatus('yes');\n      this.message = 'Welcome Back ' + account.name;\n      if (account.type === 'Doctor') {\n        this.targetPage = \"doctor/appointment/:date\";\n      } else if (account.type === 'User') {\n        this.targetPage = \"person-view\";\n      }\n    } else if (this.router.snapshot.params['message'] == 'logOutSuccessful') {\n      this.calendarService.setStatus('pending');\n      this.message = 'You Are Already Log Out';\n      this.targetPage = \"LogIn\";\n    } else if (this.router.snapshot.params['message'] == 'updateSuccessful') {\n      this.message = 'Your Account Info Has Already Update';\n      this.targetPage = document.referrer;\n    } else {\n      this.message = 'Error: ' + this.router.snapshot.params['message'];\n      this.targetPage = document.referrer;\n    }\n    setInterval(() => {\n      if (this.num != 0) {\n        // @ts-ignore\n        document.getElementById('timer').innerHTML = '<h2>Jump after ' + this.num + ' seconds</h2>';\n        this.num = this.num - 1;\n        console.log(this.num);\n      } else {\n        this.num = 5;\n        window.location.href = this.targetPage;\n      }\n    }, 1000);\n  }\n}\n_class = MessageComponent;\n_class.ɵfac = function MessageComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CalendarService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-massage\"]],\n  decls: 11,\n  vars: 2,\n  consts: [[1, \"container\", \"mt-4\", \"mb-4\", \"pt-4\", 2, \"min-height\", \"700px\"], [1, \"row\", \"justify-content-center\", \"pt-4\"], [1, \"card\", 2, \"max-width\", \"600px\", \"height\", \"250px\"], [1, \"row\", \"g-0\", \"mb-2\"], [1, \"card-body\"], [1, \"card-text\", \"pt-2\", \"pb-2\"], [\"id\", \"message\"], [\"id\", \"error\"], [\"id\", \"timer\"]],\n  template: function MessageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"h2\", 6);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"div\", 8);\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.message);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.error);\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["MessageComponent","constructor","router","calendarService","message","error","targetPage","num","ngOnInit","snapshot","params","account","JSON","parse","window","sessionStorage","getItem","setStatus","name","type","document","referrer","setInterval","getElementById","innerHTML","console","log","location","href","i0","ɵɵdirectiveInject","i1","ActivatedRoute","i2","CalendarService","selectors","decls","vars","consts","template","MessageComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate"],"sources":["/Users/namcuong757/eclipse-workspace/HeathCare1/Doctor-View-Frontend/frontend/src/app/view/message/message.component.ts","/Users/namcuong757/eclipse-workspace/HeathCare1/Doctor-View-Frontend/frontend/src/app/view/message/message.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport {Account} from \"../../model/account\";\nimport { CalendarService } from 'src/app/service/calendar.service';\n\n@Component({\n  selector: 'app-massage',\n  templateUrl: './message.component.html',\n  styleUrls: ['./message.component.css']\n})\nexport class MessageComponent implements OnInit\n{\n  message:string = 'title';\n  error:string = '';\n  targetPage:string = 'Home';\n\n  num:number = 5;\n  constructor(private router:ActivatedRoute, private calendarService : CalendarService)\n  {\n\n  }\n\n  ngOnInit():void\n  {\n    if(this.router.snapshot.params['message'] == 'logInSuccessful')\n    {\n      // @ts-ignore\n      let account:Account = JSON.parse( window.sessionStorage.getItem('healthCenterUser') );\n      this.calendarService.setStatus('yes');\n      this.message = 'Welcome Back ' + account.name;\n      if(account.type === 'Doctor')\n      {\n        this.targetPage = \"doctor/appointment/:date\";\n      }\n      else if(account.type === 'User')\n      {\n        this.targetPage = \"person-view\";\n      }\n    }\n    else if(this.router.snapshot.params['message'] == 'logOutSuccessful')\n    {\n      this.calendarService.setStatus('pending');\n      this.message = 'You Are Already Log Out';\n      this.targetPage = \"LogIn\";\n    }\n    else if(this.router.snapshot.params['message'] == 'updateSuccessful')\n    {\n      this.message = 'Your Account Info Has Already Update';\n      this.targetPage = document.referrer;\n    }\n    else\n    {\n      this.message = 'Error: ' + this.router.snapshot.params['message'];\n      this.targetPage = document.referrer;\n    }\n\n\n    setInterval(\n      ()=>\n      {\n        if(this.num != 0)\n        {\n          // @ts-ignore\n          document.getElementById('timer').innerHTML = '<h2>Jump after '+this.num+' seconds</h2>';\n          this.num = this.num - 1;\n          console.log(this.num);\n        }\n        else\n        {\n          this.num = 5;\n          window.location.href = this.targetPage;\n        }\n      },1000);\n  }\n}\n","<div class=\"container mt-4 mb-4 pt-4\" style=\"min-height: 700px;\">\n  <div class=\"row justify-content-center pt-4\">\n    <div class=\"card\" style=\"max-width: 600px; height: 250px;\">\n      <div class=\"row g-0 mb-2\">\n        <div class=\"card-body\">\n          <div class=\"card-text pt-2 pb-2\">\n            <h2 id=\"message\">{{message}}</h2>\n            <div id=\"error\">{{error}}</div>\n            <div id=\"timer\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":";;;;AAUA,OAAM,MAAOA,gBAAgB;EAO3BC,YAAoBC,MAAqB,EAAUC,eAAiC;IAAhE,KAAAD,MAAM,GAANA,MAAM;IAAyB,KAAAC,eAAe,GAAfA,eAAe;IALlE,KAAAC,OAAO,GAAU,OAAO;IACxB,KAAAC,KAAK,GAAU,EAAE;IACjB,KAAAC,UAAU,GAAU,MAAM;IAE1B,KAAAC,GAAG,GAAU,CAAC;EAId;EAEAC,QAAQA,CAAA;IAEN,IAAG,IAAI,CAACN,MAAM,CAACO,QAAQ,CAACC,MAAM,CAAC,SAAS,CAAC,IAAI,iBAAiB,EAC9D;MACE;MACA,IAAIC,OAAO,GAAWC,IAAI,CAACC,KAAK,CAAEC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,kBAAkB,CAAC,CAAE;MACrF,IAAI,CAACb,eAAe,CAACc,SAAS,CAAC,KAAK,CAAC;MACrC,IAAI,CAACb,OAAO,GAAG,eAAe,GAAGO,OAAO,CAACO,IAAI;MAC7C,IAAGP,OAAO,CAACQ,IAAI,KAAK,QAAQ,EAC5B;QACE,IAAI,CAACb,UAAU,GAAG,0BAA0B;OAC7C,MACI,IAAGK,OAAO,CAACQ,IAAI,KAAK,MAAM,EAC/B;QACE,IAAI,CAACb,UAAU,GAAG,aAAa;;KAElC,MACI,IAAG,IAAI,CAACJ,MAAM,CAACO,QAAQ,CAACC,MAAM,CAAC,SAAS,CAAC,IAAI,kBAAkB,EACpE;MACE,IAAI,CAACP,eAAe,CAACc,SAAS,CAAC,SAAS,CAAC;MACzC,IAAI,CAACb,OAAO,GAAG,yBAAyB;MACxC,IAAI,CAACE,UAAU,GAAG,OAAO;KAC1B,MACI,IAAG,IAAI,CAACJ,MAAM,CAACO,QAAQ,CAACC,MAAM,CAAC,SAAS,CAAC,IAAI,kBAAkB,EACpE;MACE,IAAI,CAACN,OAAO,GAAG,sCAAsC;MACrD,IAAI,CAACE,UAAU,GAAGc,QAAQ,CAACC,QAAQ;KACpC,MAED;MACE,IAAI,CAACjB,OAAO,GAAG,SAAS,GAAG,IAAI,CAACF,MAAM,CAACO,QAAQ,CAACC,MAAM,CAAC,SAAS,CAAC;MACjE,IAAI,CAACJ,UAAU,GAAGc,QAAQ,CAACC,QAAQ;;IAIrCC,WAAW,CACT,MAAI;MAEF,IAAG,IAAI,CAACf,GAAG,IAAI,CAAC,EAChB;QACE;QACAa,QAAQ,CAACG,cAAc,CAAC,OAAO,CAAC,CAACC,SAAS,GAAG,iBAAiB,GAAC,IAAI,CAACjB,GAAG,GAAC,eAAe;QACvF,IAAI,CAACA,GAAG,GAAG,IAAI,CAACA,GAAG,GAAG,CAAC;QACvBkB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,GAAG,CAAC;OACtB,MAED;QACE,IAAI,CAACA,GAAG,GAAG,CAAC;QACZO,MAAM,CAACa,QAAQ,CAACC,IAAI,GAAG,IAAI,CAACtB,UAAU;;IAE1C,CAAC,EAAC,IAAI,CAAC;EACX;;SA/DWN,gBAAgB;;mBAAhBA,MAAgB,EAAA6B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,eAAA;AAAA;;QAAhBlC,MAAgB;EAAAmC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCV7BZ,EAAA,CAAAc,cAAA,aAAiE;MAMpCd,EAAA,CAAAe,MAAA,GAAW;MAAAf,EAAA,CAAAgB,YAAA,EAAK;MACjChB,EAAA,CAAAc,cAAA,aAAgB;MAAAd,EAAA,CAAAe,MAAA,GAAS;MAAAf,EAAA,CAAAgB,YAAA,EAAM;MAC/BhB,EAAA,CAAAiB,SAAA,cAAsB;MACxBjB,EAAA,CAAAgB,YAAA,EAAM;;;MAHahB,EAAA,CAAAkB,SAAA,GAAW;MAAXlB,EAAA,CAAAmB,iBAAA,CAAAN,GAAA,CAAAtC,OAAA,CAAW;MACZyB,EAAA,CAAAkB,SAAA,GAAS;MAATlB,EAAA,CAAAmB,iBAAA,CAAAN,GAAA,CAAArC,KAAA,CAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}